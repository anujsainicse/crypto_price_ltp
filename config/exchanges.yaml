# Exchange Configuration for price_ltp

bybit:
  name: "Bybit"
  enabled: true
  services:
    spot:
      enabled: true
      auto_start: true
      websocket_url: "wss://stream.bybit.com/v5/public/spot"
      symbols:
        - "BTCUSDT"
        - "ETHUSDT"
        - "SOLUSDT"
        - "BNBUSDT"
        - "DOGEUSDT"
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "bybit_spot"

coindcx:
  name: "CoinDCX"
  enabled: true
  services:
    futures_ltp:
      enabled: true
      auto_start: true
      websocket_url: "wss://stream.coindcx.com"
      symbols:
        - "B-BTC_USDT"
        - "B-ETH_USDT"
        - "B-SOL_USDT"
        - "B-BNB_USDT"
        - "B-DOGE_USDT"
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "coindcx_futures"

    funding_rate:
      enabled: true
      auto_start: true
      api_url: "https://public.coindcx.com/market_data/v3/current_prices/futures/rt"
      update_interval: 1800  # 30 minutes
      symbols:
        - "B-BTC_USDT"
        - "B-ETH_USDT"
        - "B-SOL_USDT"
        - "B-BNB_USDT"
        - "B-DOGE_USDT"
      redis_prefix: "coindcx_futures"
      api_timeout: 10

delta:
  name: "Delta Exchange"
  enabled: true
  services:
    futures_ltp:
      enabled: true
      auto_start: true
      websocket_url: "wss://socket.delta.exchange"
      symbols:
        - "BTCUSD"
        - "ETHUSD"
        - "SOLUSD"
        - "BNBUSD"
        - "DOGEUSD"
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "delta_futures"

    options:
      enabled: true
      auto_start: true
      websocket_url: "wss://socket.delta.exchange"
      # Dynamic symbol discovery - fetches valid symbols from REST API
      use_dynamic_discovery: true
      underlying_assets:
        - "BTC"
        - "ETH"
      # Subscribe to ALL available options (no filtering)
      subscribe_all: true
      # Batch subscription settings (for handling many symbols efficiently)
      subscription_batch_size: 20  # Subscribe N symbols per batch message
      subscription_batch_delay: 0.5  # Delay between batches (seconds)
      symbol_refresh_interval: 3600  # Refresh symbols every hour (options expire)
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "delta_options"

hyperliquid:
  name: "HyperLiquid"
  enabled: true
  services:
    spot:
      enabled: true
      auto_start: true
      websocket_url: "wss://api.hyperliquid.xyz/ws"
      symbols:
        - "BTC"
        - "ETH"
        - "SOL"
        - "BNB"
        - "DOGE"
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "hyperliquid_spot"

    perpetual:
      enabled: true
      auto_start: true
      websocket_url: "wss://api.hyperliquid.xyz/ws"
      symbols:
        - "BTC"
        - "ETH"
        - "SOL"
        - "BNB"
        - "DOGE"
      reconnect_interval: 5
      max_reconnect_attempts: 10
      redis_prefix: "hyperliquid_perp"
